import FollowButton from '../../../components/follow-button'
import ConnectWalletButton from '../../../components/connect-wallet-button'
import { Callout } from 'nextra/components'

# Transaction Modal

The Transaction Modal component allows users to initiate and manage on-chain transactions. It provides a user interface for viewing transaction details, selecting chains, and managing transaction batches.

## Add to your project

```tsx copy
import TransactionModal from 'identity-kit/src/components/transaction-modal/TransactionModal'

export default function App() {
  return <TransactionModal darkMode={true} />
}
```

<a
  className="w-full block border-[3px] rounded-sm border-[#444] hover:border-primary/80 cursor-pointer transition-all p-4 mt-6 truncate text-gray-400"
  href="https://playground.ethidentitykit.com/?path=/story/organisms-follow-button-transaction-modal--single-transaction"
  target="_blank"
>
  <span className="text-primary">Try it out!</span>
  <span className="text-gray-400">
    {
      ' - https://playground.ethidentitykit.com/?path=/story/organisms-follow-button-transaction-modal--single-transaction'
    }
  </span>
</a>

<div className="w-full bg-[#222] border-[3px] rounded-sm border-[#444] p-8 mt-8 flex flex-col gap-6 justify-center items-center">
  <ConnectWalletButton />
  <div className="text-sm text-gray-400 text-center mb-4">
    The transaction modal displayed here has the &quot;batchTransactions&quot; prop set to false. Meaning it will open
    only if you submit a transaction. Pressing the follow button will open the transaction modal.
  </div>
  <FollowButton lookupAddress="0xd8da6bf26964af9d7eed9e03e53415d37aa96045" />
</div>

### First time user flow

<div className="flex flex-row flex-wrap gap-4">
  <img src="/assets/transaction/select-chain.png" className="dark h-auto" width="400" height="auto" />
  <img src="/assets/transaction/listops-initiate.png" className="dark h-auto" width="400" height="auto" />
  <img src="/assets/transaction/listops-done.png" className="dark h-auto" width="400" height="auto" />
  <img src="/assets/transaction/mint-in-progress.png" className="dark h-auto" width="400" height="auto" />
  <img src="/assets/transaction/indexing.png" className="dark h-auto" width="400" height="auto" />
  <img src="/assets/transaction/finished.png" className="dark h-auto" width="400" height="auto" />
</div>

## Parameters

| Parameter             | Description                                                    | Required | Default Value |
| --------------------- | -------------------------------------------------------------- | -------- | ------------- |
| `darkMode`            | Enables dark mode styling for the transaction modal.           | No       | false         |
| `showRecommendations` | Enables recommendations for the cart modal.                    | No       | true          |
| `onCartProfileClick`  | The function to call when a profile is clicked.                | No       | -             |
| `showPoapClaim`       | Whether to show the POAP claim modal after minting a new list. | No       | false         |
| `className`           | Additional CSS class names to apply to the transaction modal.  | No       | -             |
| `props`               | Additional HTML div element props.                             | No       | -             |

### Features

- **Batch Transactions**: Allows users to manage multiple transactions at once.
- **Chain Selector**: Provides an interface for selecting the blockchain network.
- **Transaction Summary**: Displays a summary of all pending transactions.
- **Transaction Flow**: Nice transaction flow with good visual feedback and animations.

### Styling

The component uses predefined styles and can be further customized using the `className` prop. The appearance of the modal can be manually toggled between light and dark modes using the `darkMode` prop, however, if you have a `dark` class applied in your application, the modal will automatically use that.

<Callout type="info">
  The modal is controlled by the `txModalOpen` state from the
  [`useTransactions`](https://ethidentitykit.com/docs/hooks/useTransactions) context, which determines its visibility.
</Callout>

<Callout type="warning">
  Ensure that the `TransactionModal` is wrapped within a
  [TransactionProvider](https://ethidentitykit.com/docs/components/transaction-provider) that supplies the necessary
  transaction context.
</Callout>

Transaction Provider parameters:

- batchTransactions (boolean) - Whether to batch transactions or not (default: false). This will allow yout to either execute transactions one by one or batch them together and have a cart-like experience.
